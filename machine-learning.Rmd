---
title: Machine Learning with Galaxy
output:
  html_document:
    toc: true
    toc_float:
      toc_collapsed: true
    toc_depth: 3
    number_sections: false
css: style.css
---
```{r echo = FALSE, show = FALSE}
knitr::opts_chunk$set(number_sections = FALSE)
```

## Overview of activity and data

Our Galaxy activity is a condensed tutorial adapted from the ["Building the LORIS LLR6 PanCancer Model Using PyCaret" Galaxy Training Tutorial](https://training.galaxyproject.org/training-material/topics/statistics/tutorials/loris_model/tutorial.html).

```{r echo=FALSE, fig.alt="Galaxy Training Tutorial titled 'Building the LORIS LLR6 PanCancer Model Using PyCaret'", fig.link="https://training.galaxyproject.org/training-material/topics/statistics/tutorials/loris_model/tutorial.html"}
ottrpal::include_slide("https://docs.google.com/presentation/d/1M_iYtmfFGnZVHhbWLr81JWlKVO9mXPTHQefmGIvrHIQ/edit#slide=id.g32af3c023b6_0_0")
```

## Activity steps

### Open Galaxy

<input type="checkbox"> Please [use this link to access the Galaxy platform specifically for our activity](https://usegalaxy.org/join-training/itn-at-moffitt-2025/).<br/>

Note: this link will only be active for this workshop, but you can continue to use Galaxy resources for free by visiting [usegalaxy.org](https://usegalaxy.org/).

### Set up Galaxy's history pane

<input type="checkbox"> If you have files in your history already, use the `+` button on the top right of the history pane to `Create new history`. <br/>
<input type="checkbox"> Click the pencil button next to "Unnamed history". Fill in the name with something descriptive/appropriate. Click "Save"

Now that our History pane is empty, we'll need to load data.

### Data upload

<input type="checkbox"> Copy these links:

```
https://zenodo.org/records/13885908/files/Chowell_train_Response.tsv
https://zenodo.org/records/13885908/files/Chowell_test_Response.tsv
```

<input type="checkbox"> In Galaxy, click the "Upload" button in the top left of the page.

This will open an interactive panel for data upload.

<input type="checkbox"> Click the "Paste/Fetch Data" button in the middle of the bottom stretch of options.

<input type="checkbox"> Paste the copied URLs into the middle box.

<input type="checkbox"> Click the blue "Start" button in the bottom stretch of options.

<input type="checkbox"> Click the "Close" button at the end of the bottom stretch of options.

### Using PyCaret Model Comparison Tool

<input type="checkbox"> On the top left of the page, the tool pane has a search bar. Copy and paste `PyCaret Model Comparison` into the tool search.

<input type="checkbox"> Select `PyCaret Model Comparison`.

<input type="checkbox"> In the middle pane, if the `Train Dataset (CSV or TSV)` is not already filled in with "Chowell_train_Response.tsv", click the down arrow and select it.

<input type="checkbox"> For the `Test Dataset (CSV or TSV)` option, select "Chowell_test_Response.tsv".

<input type="checkbox"> For the `Select the target column` option, select "c22: Response".

<input type="checkbox"> Under the `Task` section, verify that "classification" is selected.

<input type="checkbox"> For the `Only Select Classification Models if you don't want to compare all models`, select the following:

    <input type="checkbox"> Logistic Regression <br/>
    <input type="checkbox"> Decision Tree Classifier <br/>
    <input type="checkbox"> Random Forest Classifier <br/>

<input type="checkbox"> Under the `Customize Default Settings?`section, switch the "No" to a "Yes".

<input type="checkbox"> For the `Cross Validation Folds` option, decrease the number of folds to use for cross-validation from 10 to **2**.

<input type="checkbox"> Click the blue ">Run Tool" button. This will add the job to the queue and add the output files to the top of the history pane.

<input type="checkbox"> Click the eye icon next to the output titled `PyCaret Model Comparison Comparisons results on data 2 and data 1` to inspect the output (which will be opened in the middle pane).
